{%extends 'base.html'%}

{%block body_block%}

<!-- <div>
    filter by department
    <a href="{%url 'emp_all'%}?department=hr">hr</a>
    <a href="{%url 'emp_all'%}?department=qa">qa</a>
</div> -->
<div>
    <div>
    filter by department
    </div>
    {%for dep in departments%}
        <a href="{%url 'emp_all'%}?department={{dep}}">{{dep}}</a>
    {%endfor%}
</div>

<div class="container">
    <div class="row">
        <div class="col-2"></div>
        <div class="col-8">
            <form action="" method="post">
                {%csrf_token%}
                <div class="d-flex">
                    <input type="text" name="box" class="form-control me-2">
                    <button type="submit" class="btn btn-success">search</button>
                </div>
                
            </form>
        </div>
        <div class="col-2"></div>
    </div>
</div>

<h2><center>Employees List</center></h2>
<div class="container">
    <div class="row">
        <div class="col-2"></div>
        <div class="col-8">
            <table class="table table-dark table-stripped caption-top">
                <tr>
                    <td><strong>NAME</strong></td>
                    <td><strong>DEPARTMENT</strong></td>
                    <td><strong>SALARY</strong></td>
                    <td><strong>EMAIL</strong></td>
                    <td><strong>DOB</strong></td>
                    <td><strong>ACTION</strong></td>
                </tr>

                {%for emp in data%}
                  <tr>
                    <td>{{emp.name}}</td>
                    <td>{{emp.department}}</td>
                    <td>{{emp.salary}}</td>
                    <td>{{emp.email}}</td>
                    <td>{{emp.dob}}</td>
                    <td>

                        <a href="{%url 'emp_details' emp.id%}">View</a>
                        <a href="{%url 'emp_delete' emp.id%}">Delete</a>
                        <a href="{%url 'emp_edit' emp.id%}">Change</a>
                    </td>
                  </tr>

                {%endfor%}
            </table>


        </div>
        <div class="col-2"></div>
    </div>
</div>

{%endblock%} 